"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2052],{94965:function(e,s,a){a.d(s,{U:function(){return m}});var t=a(9268),l=a(57756),n=a(82861),i=a(44028),d=a(99468),o=a(76394),c=a.n(o),r=a(86006),u=a(27374);function m(e){var s,a;let{asset:o}=e,{prices:m,totalSupplies:x}=(0,r.useContext)(l.FetcherContext),v=null!==(s=m["".concat(o,"x")])&&void 0!==s?s:0n,f=null!==(a=x["".concat(o,"x")])&&void 0!==a?a:0n;return(0,t.jsxs)("h5",{className:"font-bold text-sm text-slate-700 mt-4",children:["Net Value",(0,t.jsx)(i.zt,{children:(0,t.jsxs)(i.fC,{children:[(0,t.jsx)(i.xz,{asChild:!0,children:(0,t.jsx)("div",{className:"inline-block px-1",children:(0,t.jsx)(u.if7,{className:"ml-1 inline-block w-[14px] h-[14px] stroke-slate-500"})})}),(0,t.jsx)(i.h_,{children:(0,t.jsxs)(i.VY,{className:"max-w-xs text-sm text-white bg-slate-900 rounded-md p-4",children:["The Net value is calculated based on the underlying assets and is backed by these assets. The Market Price on secondary markets might deviate from the Net value due to a variety of factors. Anyone can engage in arbitrage, and such actions will serve to eliminate these discrepancies.",(0,t.jsx)(i.Eh,{})]})})]})}),(0,t.jsxs)(d.iA,{className:"mt-4 text-sm font-normal",children:[(0,t.jsx)(d.ss,{}),(0,t.jsxs)(d.RM,{children:[(0,t.jsxs)(d.SC,{children:[(0,t.jsxs)(d.pj,{className:"flex gap-2 px-0",children:[(0,t.jsx)(c(),{src:"/USB.svg",width:20,height:20,alt:"USB"}),"USB"]}),(0,t.jsx)(d.pj,{children:"Universal Stable Basis"}),(0,t.jsx)(d.pj,{}),(0,t.jsx)(d.pj,{className:"text-right",children:"$1"})]}),(0,t.jsxs)(d.SC,{children:[(0,t.jsxs)(d.pj,{className:"flex gap-2 px-0",children:[(0,t.jsx)(c(),{src:"/".concat(o+"x",".svg"),width:20,height:20,alt:"ETHx"}),o,"x"]}),(0,t.jsxs)(d.pj,{children:[(0,t.jsxs)("span",{className:"text-base text-slate-700",children:[(0,n.dq)(f),"x "]}),"Leveraged long on ETH"]}),(0,t.jsx)(d.pj,{}),(0,t.jsxs)(d.pj,{className:"text-right",children:["$",(0,n.dq)(v)]})]})]})]})]})}},13583:function(e,s,a){a.d(s,{a:function(){return N}});var t=a(9268),l=a(79343),n=a(78592),i=a(52815),d=a(67992),o=a(85418),c=a(43534),r=a(56883),u=a(57756),m=a(82861),x=a(12120),v=a(86006),f=a(87782),b=a(2002),h=a(75503),j=a(17901),g=a(19707);let S="$USB";function N(e){var s,a,N,y,p,k,A,B,T;let{asset:U}=e,{balances:w,prices:M,vaultsMode:R}=(0,v.useContext)(u.FetcherContext),C=c.iK[(0,o.B)()].find(e=>e.assetTokenSymbol==U),P=c.jX[(0,o.B)()],q=R[C.assetTokenSymbol],[Z,E]=(0,v.useState)("mint"),[W,L]=(0,v.useMemo)(()=>{let e="mint"==Z;return 2==q?["Downward Adjustment Model",e?"Minting ".concat(S," alone is feasible"):"Redeeming ".concat(C.xTokenSymbol," alone is feasible")]:3==q?["Upward Adjustment Model",e?"Minting ".concat(C.xTokenSymbol," alone is feasible"):"Redeeming ".concat(S," alone is feasible")]:["Stability Model",e?"".concat(S," and ").concat(C.xTokenSymbol," will be minted in fixed ratio"):"Redemption require a fixed ration of ".concat(S," and ").concat(C.xTokenSymbol)]},[q,C,Z]),[V,_]=(0,v.useState)(""),[z,D]=(0,v.useState)(""),[Y,$]=(0,v.useState)(""),F=null!==(B=M[C.assetTokenSymbol])&&void 0!==B?B:0n,H=null!==(T=M[C.xTokenSymbol])&&void 0!==T?T:0n,K=(0,v.useMemo)(()=>{var e;return null==w?void 0:null===(e=w.find(e=>e.symbol===U))||void 0===e?void 0:e.balance},[w]),O=(0,v.useMemo)(()=>{var e;return null==w?void 0:null===(e=w.find(e=>"USB"===e.symbol))||void 0===e?void 0:e.balance},[w]),X=(0,v.useMemo)(()=>{var e;return null==w?void 0:null===(e=w.find(e=>e.symbol===U+"x"))||void 0===e?void 0:e.balance},[w]),[G,I]=(0,v.useState)(""),[J,Q]=(0,v.useState)("USB"),{data:[ee,es,ea]=[void 0,void 0,void 0]}=(0,g.Dm)({contracts:[{abi:d.Z,address:P,functionName:q>1?"calcMintPairsAtAdjustmentPhase":"calcMintPairsAtStabilityPhase",args:[C.vault,(0,h.f)(V||"0")]},{abi:d.Z,address:P,functionName:"calcMintUsbAboveAARU",args:[C.vault,(0,h.f)(V||"0")]},{abi:d.Z,address:P,functionName:"calcMintLeveragedTokensBelowAARS",args:[C.vault,(0,h.f)(V||"0")]}],watch:!0,enabled:"mint"==Z}),{data:[et,el,en,ei,ed]=[void 0,void 0,void 0,void 0,void 0]}=(0,g.Dm)({contracts:[{abi:d.Z,address:P,functionName:"calcPairedRedeemAssetAmount",args:[C.vault,(0,h.f)(Y||"0")]},{abi:d.Z,address:P,functionName:"calcPairdLeveragedTokenAmount",args:[C.vault,(0,h.f)(z||"0")]},{abi:d.Z,address:P,functionName:"calcPairedUsbAmount",args:[C.vault,(0,h.f)(Y||"0")]},{abi:d.Z,address:P,functionName:"calcRedeemByLeveragedTokenAboveAARU",args:[C.vault,(0,h.f)(Y||"0")]},{abi:d.Z,address:P,functionName:"calcRedeemByUsbBelowAARS",args:[C.vault,(0,h.f)(z||"0")]}],watch:!0,enabled:"redeem"==Z}),eo=2==q&&J==C.xTokenSymbol,ec=3==q&&"USB"==J,er=(0,v.useMemo)(()=>{let e={abi:i.Z,address:C.vault,args:[(0,h.f)(V)],value:C.assetTokenAddress==c.K8?(0,h.f)(V):0n,functionName:"mintPairsAtAdjustmentPhase"};return(0==q||1==q)&&(e.functionName="mintPairsAtStabilityPhase"),"USB"==G&&(e.functionName="mintUSBAboveAARU"),G==C.xTokenSymbol&&(e.functionName="mintLeveragedTokensBelowAARS"),e},[q,G,V,C]),eu=(0,v.useMemo)(()=>{let e={abi:i.Z,address:C.vault,functionName:"USB"==J?"redeemByPairsWithExpectedUSBAmount":"redeemByPairsWithExpectedLeveragedTokenAmount",args:"USB"==J?[(0,h.f)(z)]:[(0,h.f)(Y)]};return 2==q&&J==C.xTokenSymbol&&(e.functionName="redeemByLeveragedTokenAboveAARU",e.args=[(0,h.f)(Y)]),3==q&&"USB"==J&&(e.functionName="redeemByUsbBelowAARS",e.args=[(0,h.f)(z)]),e},[q,J,z,Y,C]),em="USB"===G?null==es?void 0:null===(s=es.result)||void 0===s?void 0:s[1]:null==ee?void 0:null===(a=ee.result)||void 0===a?void 0:a[1],ex=G===C.xTokenSymbol?null==ea?void 0:null===(N=ea.result)||void 0===N?void 0:N[1]:null==ee?void 0:null===(y=ee.result)||void 0===y?void 0:y[2];(0,v.useEffect)(()=>{"USB"==J||eo||D((0,m.dq)(null==en?void 0:en.result)),J==C.xTokenSymbol||ec||$((0,m.dq)(null==el?void 0:el.result)),ec&&$(""),eo&&D("")},[ec,eo,J,en,el]);let ev=eo?null==ei?void 0:null===(p=ei.result)||void 0===p?void 0:p[1]:ec?null==ed?void 0:null===(k=ed.result)||void 0===k?void 0:k[1]:null==et?void 0:null===(A=et.result)||void 0===A?void 0:A[1];return(0,t.jsxs)("div",{className:(0,b.m)("card relative","Stability Model"==W?"bg-green-500/5":"bg-violet-500/5"),children:[(0,t.jsxs)("div",{className:"absolute top-[29px] right-6 flex flex-col items-end",children:[(0,t.jsxs)("div",{className:"text-sm leading-5 flex items-center gap-1.5 rounded-full w-fit",children:[(0,t.jsx)("div",{className:(0,b.m)("w-3 h-3 rounded-full","Stability Model"==W?"bg-green-500":"bg-violet-500")}),(0,t.jsx)("div",{className:"text-indigo-700",children:W})]}),(0,t.jsx)("div",{className:"text-xs text-neutral-500",children:L})]}),(0,t.jsx)("div",{className:"relative flex items-center justify-between",children:(0,t.jsxs)(x.fC,{defaultValue:"mint",className:"w-full",onValueChange:e=>E(e),children:[(0,t.jsxs)(x.aV,{className:"bg-slate-100 p-1 w-fit rounded-md",children:[(0,t.jsx)(x.xz,{className:'rounded-[3px] text-sm py-1.5 px-3 text-slate-500 font-medium data-[state="active"]:bg-white data-[state="active"]:text-slate-900',value:"mint",children:"Mint"}),(0,t.jsx)(x.xz,{className:'rounded-[3px] text-sm py-1.5 px-3 text-slate-500 font-medium data-[state="active"]:bg-white data-[state="active"]:text-slate-900',value:"redeem",children:"Redeem"})]}),(0,t.jsx)(x.VY,{value:"mint",className:"flex flex-col gap-6",children:(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)(n.W,{asset:U,exchange:(0,m.dq)(F*(0,j.v)(V,0)),balance:(0,m.dq)(K),amount:V,setAmount:_}),(0,t.jsx)("div",{className:"w-8 h-8 mx-auto flex items-center justify-center text-slate-400 rounded-full border border-slate-200 mb-6",children:(0,t.jsx)(f.gPZ,{})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(n.W,{amount:(0,m.ZM)(em),onClick:()=>{I(2==q?"USB":"")},asset:"USB",exchange:(0,m.dq)(em),readonly:!0,disable:q<=1,selected:"USB"===G}),(0,t.jsx)(n.W,{amount:(0,m.ZM)(ex),onClick:()=>{I(3==q?C.xTokenSymbol:"")},asset:C.xTokenSymbol,exchange:(0,m.dq)(H*(null!=ex?ex:0n)/10n**18n),readonly:!0,disable:q<=1,selected:G===C.xTokenSymbol})]}),(0,t.jsx)(l.v,{tx:"Mint",config:er,approves:{[C.assetTokenAddress]:(0,h.f)(V)},spender:C.vault})]})}),(0,t.jsx)(x.VY,{value:"redeem",className:"flex flex-col gap-6",children:(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(n.W,{amount:z,setAmount:D,balance:(0,m.dq)(O),onClick:()=>{Q("USB")},asset:"USB",exchange:(0,m.dq)((0,j.v)(z,18)),selected:"USB"===J}),(0,t.jsx)(n.W,{amount:Y,setAmount:$,asset:C.xTokenSymbol,onClick:()=>{Q(C.xTokenSymbol)},exchange:(0,m.dq)((0,j.v)(Y,18)*H/10n**18n),balance:(0,m.dq)(X),selected:J===C.xTokenSymbol})]}),(0,t.jsx)("div",{className:"w-8 h-8 mx-auto flex items-center justify-center text-slate-400 rounded-full border border-slate-200 mb-6",children:(0,t.jsx)(f.gPZ,{})}),(0,t.jsx)(n.W,{asset:C.assetTokenSymbol,amount:(0,m.dq)(ev),exchange:(0,m.dq)(F*(null!=ev?ev:0n)/10n**18n),readonly:!0}),(0,t.jsx)(l.v,{tx:"Redeem",config:eu,approves:{[C.xTokenAddress]:(0,h.f)(Y),[r.O[(0,o.B)()]]:(0,h.f)(z)},spender:C.vault})]})})]})})]})}}}]);