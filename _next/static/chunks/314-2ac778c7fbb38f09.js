"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{18624:function(e,n,t){t.d(n,{j:function(){return i}});let i=[{inputs:[{internalType:"address",name:"_wandProtocol",type:"address"},{internalType:"address",name:"_assetToken",type:"address"},{internalType:"address",name:"_assetTokenPriceFeed",type:"address"},{internalType:"address",name:"_xToken",type:"address"},{internalType:"bytes32[]",name:"assetPoolParams",type:"bytes32[]"},{internalType:"uint256[]",name:"assetPoolParamsValues",type:"uint256[]"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"usbTokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPriceDecimals",type:"uint256"}],name:"AssetRedeemedWithUSB",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"feeTo",type:"address"},{indexed:!1,internalType:"uint256",name:"usbTokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"feeAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPriceDecimals",type:"uint256"}],name:"AssetRedeemedWithUSBFeeCollected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"xTokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"pairedUSBAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPriceDecimals",type:"uint256"}],name:"AssetRedeemedWithXTokens",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"feeTo",type:"address"},{indexed:!1,internalType:"uint256",name:"xTokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"pairedUSBAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPriceDecimals",type:"uint256"}],name:"AssetRedeemedWithXTokensFeeCollected",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"interestAmount",type:"uint256"},{indexed:!1,internalType:"bool",name:"distributed",type:"bool"}],name:"InterestSettlement",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"assetTokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"usbTokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPriceDecimals",type:"uint256"}],name:"USBMinted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"param",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"UpdateParamValue",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"usbAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"xTokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPriceDecimals",type:"uint256"}],name:"UsbToXTokens",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"assetTokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"xTokenAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPrice",type:"uint256"},{indexed:!1,internalType:"uint256",name:"assetTokenPriceDecimals",type:"uint256"}],name:"XTokenMinted",type:"event"},{inputs:[],name:"AAR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AARBelowCircuitBreakerLineTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AARBelowSafeLineTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"AARDecimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"R2",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetPoolCalculator",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"assetTokenPriceFeed",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"calculateInterest",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calculateMintUSBOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"calculateMintXTokensOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"xTokenAmount",type:"uint256"}],name:"calculatePairedUSBAmountToRedeemByXTokens",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calculateRedemptionOutByUSB",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"calculateUSBToXTokensOut",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"checkAAR",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAssetToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAssetTokenPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getAssetTotalAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"param",type:"bytes32"}],name:"getParamValue",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintUSB",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"assetAmount",type:"uint256"}],name:"mintXTokens",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"r",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"redeemByUSB",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"xTokenAmount",type:"uint256"}],name:"redeemByXTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"settings",outputs:[{internalType:"contract IProtocolSettings",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"settleInterest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"param",type:"bytes32"},{internalType:"uint256",name:"value",type:"uint256"}],name:"updateParamValue",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"usbAmount",type:"uint256"}],name:"usbToXTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usbToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"usbTotalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"wandProtocol",outputs:[{internalType:"contract IWandProtocol",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"xToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}]},90863:function(e,n,t){t.d(n,{q:function(){return i}});let i=10n**10n},85418:function(e,n,t){t.d(n,{B:function(){return a}});var i=t(80237);let a=()=>i.ws.id},43534:function(e,n,t){t.d(n,{C:function(){return i}});let i=[{assetTokenSymbol:"ETH",xTokenSymbol:"ETHx",assetTokenAddress:"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",xTokenAddress:"0x1aDf0bb122BAf003cdeBBe4B9041da20117e24b6",poolAddress:"0x89BBE988c010846b935B07750A6Ff74A8c132534"},{assetTokenSymbol:"WBTC",xTokenSymbol:"WBTCx",assetTokenAddress:"0xcAE964CfeEa795b8D545fBb0899e16A665218c65",xTokenAddress:"0x586fA472aa706bcB6e0b1fDAeDFac8799F7a0e51",poolAddress:"0x383ba522b4B515f17CA5fd46BA82b9598A02c309"},{assetTokenSymbol:"stETH",xTokenSymbol:"stETHx",assetTokenAddress:"0x18F37A1CA2D1fD5B104009fD288A947431203C78",xTokenAddress:"0x55963a781f8484eF559bE020217b9546e305F713",poolAddress:"0xDD92644966a1B495DFD0225313a9294501e83034"}]},2048:function(e,n,t){t.r(n),t.d(n,{SwapContext:function(){return T},SwapProvider:function(){return c}});var i=t(9268),a=t(86006),u=t(19707),s=t(69624),o=t(85418),l=t(43534),p=t(18624),d=t(80237),r=t(61997);let y={[d.ws.id]:"0xa703D24192BF8fe0eEfFd0626aD8cF6CE0D614E4",[r.RJ.id]:""};var m=t(88426);let T=(0,a.createContext)({prices:[],r2s:[],rs:[],aars:[],aarts:[],c1s:[]}),c=e=>{var n,t,d,r,c,b,v,f,A,x,k,M;let{children:B}=e,{address:S}=(0,u.mA)(),{data:w}=(0,u.KQ)({address:S,watch:!0,chainId:(0,o.B)()}),{data:C}=(0,u.Dm)({contracts:[...l.C.map(e=>({address:e.poolAddress,abi:p.j,functionName:"getAssetTokenPrice",chainId:(0,o.B)()})),...l.C.map(e=>({address:e.poolAddress,abi:p.j,functionName:"getAssetTotalAmount",chainId:(0,o.B)()})),...l.C.map(e=>({address:e.xTokenAddress,abi:s.em,functionName:"balanceOf",args:[e.poolAddress],chainId:(0,o.B)()})),...l.C.map(e=>({address:y[(0,o.B)()],abi:s.em,functionName:"balanceOf",args:[e.poolAddress],chainId:(0,o.B)()})),...l.C.map(e=>({address:e.poolAddress,abi:p.j,functionName:"R2",chainId:(0,o.B)()})),...l.C.map(e=>({address:e.poolAddress,abi:p.j,functionName:"r",chainId:(0,o.B)()})),...l.C.map(e=>({address:e.poolAddress,abi:p.j,functionName:"AAR",chainId:(0,o.B)()})),...l.C.map(e=>({address:e.poolAddress,abi:p.j,functionName:"getParamValue",args:["AART"],chainId:(0,o.B)()})),...l.C.map(e=>({address:e.poolAddress,abi:p.j,functionName:"getParamValue",args:["C1"],chainId:(0,o.B)()}))],watch:!0,enabled:!!S,allowFailure:!0});console.log(C);let P=l.C.length,h=(0,a.useMemo)(()=>null==C?void 0:C.filter((e,n)=>n<P).map((e,n)=>{var t,i,a;return{symbol:null===(t=l.C[n])||void 0===t?void 0:t.assetTokenSymbol,price:(null===(i=null==e?void 0:e.result)||void 0===i?void 0:i[0])*10n**(18n-(null===(a=null==e?void 0:e.result)||void 0===a?void 0:a[1]))}}),[C]),E=(0,a.useMemo)(()=>null==C?void 0:C.filter((e,n)=>P<=n&&n<2*P).map((e,t)=>{var i;return{symbol:null===(i=l.C[t])||void 0===i?void 0:i.assetTokenSymbol,amount:null!==(n=null==e?void 0:e.result)&&void 0!==n?n:0n}}),[C]),g=(0,a.useMemo)(()=>null==C?void 0:C.filter((e,n)=>2*P<=n&&n<3*P).map((e,n)=>{var i;return{symbol:null===(i=l.C[n])||void 0===i?void 0:i.xTokenSymbol,amount:null!==(t=null==e?void 0:e.result)&&void 0!==t?t:0n}}),[C]),D=(0,a.useMemo)(()=>null==C?void 0:C.filter((e,n)=>3*P<=n&&n<4*P).map((e,n)=>({symbol:"USB",amount:null!==(d=null==e?void 0:e.result)&&void 0!==d?d:0n})),[C]),F=null==E?void 0:E.map((e,n)=>{var t,i,a,u;return{symbol:l.C[n].xTokenSymbol,price:(null==g?void 0:null===(t=g[n])||void 0===t?void 0:t.amount)>0n?(e.amount*(null!==(r=null==h?void 0:null===(i=h[n])||void 0===i?void 0:i.price)&&void 0!==r?r:0n)-(null==D?void 0:null===(a=D[n])||void 0===a?void 0:a.amount))/(null==g?void 0:null===(u=g[n])||void 0===u?void 0:u.amount):0n}}),R=(0,a.useMemo)(()=>null==C?void 0:C.filter((e,n)=>4*P<=n&&n<5*P).map((e,n)=>({symbol:l.C[n].assetTokenSymbol,r2:null!==(b=null==e?void 0:e.result)&&void 0!==b?b:0n})),[C,P]),U=(0,a.useMemo)(()=>null==C?void 0:C.filter((e,n)=>5*P<=n&&n<6*P).map((e,n)=>({symbol:l.C[n].assetTokenSymbol,r2:null!==(v=null==e?void 0:e.result)&&void 0!==v?v:0n})),[C,P]),I=(0,a.useMemo)(()=>null==C?void 0:C.filter((e,n)=>6*P<=n&&n<7*P).map((e,n)=>({symbol:l.C[n].assetTokenSymbol,aar:null!==(f=null==e?void 0:e.result)&&void 0!==f?f:0n})),[C,P]),N=(0,a.useMemo)(()=>null==C?void 0:C.filter((e,n)=>7*P<=n&&n<8*P).map((e,n)=>({symbol:l.C[n].assetTokenSymbol,aart:null!==(A=null==e?void 0:e.result)&&void 0!==A?A:0n})),[C,P]),X=(0,a.useMemo)(()=>null==C?void 0:C.filter((e,n)=>8*P<=n&&n<9*P).map((e,n)=>({symbol:l.C[n].assetTokenSymbol,c1:null!==(x=null==e?void 0:e.result)&&void 0!==x?x:0n})),[C,P]);return console.log(C),console.log(R),(0,i.jsx)(T.Provider,{value:{prices:[...null!==(k=null==h?void 0:h.concat(null!=F?F:[]))&&void 0!==k?k:[],{symbol:"USB",price:(0,m.f)("1")}],r2s:null!=R?R:[],rs:null!=U?U:[],aars:null!=I?I:[],aarts:null!=N?N:[],c1s:null!=X?X:[]},children:B})}},82861:function(e,n,t){t.d(n,{Rp:function(){return u},dq:function(){return s}});var i=t(77340),a=t(11639);let u=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,t=arguments.length>2?arguments[2]:void 0;if(!e)return"0.000";let a=10**n;return(Math.floor(Number((0,i.b)(e,t))*a)/a).toLocaleString("en-US",{maximumFractionDigits:n})},s=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return"0.000";let t=10**n;return(Math.floor(Number((0,a.d)(e))*t)/t).toLocaleString("en-US",{maximumFractionDigits:n})}}}]);