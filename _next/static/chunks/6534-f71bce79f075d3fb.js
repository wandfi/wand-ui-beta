"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6534],{62600:function(e,t,n){n.d(t,{r:function(){return a.Z}});var a=n(62653)},99548:function(e,t,n){n.d(t,{v:function(){return ApproveAndTx}});var a=n(31113),s=n(19757),r=n(26361),l=n(64103),o=n(47259),i=n(22298),c=n(72366),u=n(9709),d=n(64040);let x={},useApproves=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10000000000n*10n**18n,{address:a,chainId:f}=(0,c.m)(),p=(0,u.t)(),{data:m}=(0,d.p)(),[b,v]=(0,l.useState)(!1),g=(0,l.useMemo)(()=>Object.keys(e).filter(e=>e!==s.K8),[e]),[h,k]=(0,l.useState)(t&&x[t]||{}),updateAllownce=(e,n)=>{t&&(x[t]={...x[t]||{},[e]:n},k(t=>({...t,[e]:n})))},w=(0,u.t)();(0,l.useEffect)(()=>{a&&t&&p&&f&&g.forEach(e=>{p.readContract({abi:i.Wo,address:e,functionName:"allowance",args:[a,t]}).then(t=>updateAllownce(e,t||0n)).catch(console.error)})},[g,f,a]);let[j,y]=(0,l.useState)(!1),A=(0,l.useMemo)(()=>g.filter(t=>(0,r.ok)(e,t)>0n&&(0,r.ok)(e,t)>(0,r.ok)(h,t)),[e,g,h]),approve=async()=>{if(0!=A.length&&t)try{y(!0),v(!1);for(let a=0;a<A.length;a++){let s=A[a],r=!1===n?e[s]:n,l=await (null==m?void 0:m.writeContract({abi:i.Wo,address:s,functionName:"approve",args:[t,r]}));l&&await (null==w?void 0:w.waitForTransactionReceipt({hash:l})),updateAllownce(s,r)}o.A.success("Approve success"),y(!1),v(!0)}catch(e){throw o.A.error((0,r.az)(e)),y(!1),v(!1),e}};return{approve,loading:j,shouldApprove:A.length>0,isSuccess:b}};var f=n(78354),p=n(88501),m=n(36762);function ApproveAndTx(e){let{className:t,tx:n,approves:s,spender:r,requestAmount:o,config:i,toast:c=!0,disabled:u,onTxSuccess:d,onApproveSuccess:x}=e,{write:b,isDisabled:v,isLoading:g}=(0,f.R)(i,{onSuccess:()=>d&&d(),autoToast:c}),h=u||v||g||!1===i.enabled,{approve:k,shouldApprove:w,loading:j,isSuccess:y}=useApproves(s||{},r,o),A=(0,l.useRef)();return(A.current=x,(0,l.useEffect)(()=>{A.current&&y&&A.current()},[y]),w)?(0,a.jsxs)("button",{className:(0,p.m)("btn-primary flex items-center justify-center gap-4",t),onClick:k,disabled:u||!k||j,children:[j&&(0,a.jsx)(m.$,{}),"Approve"]}):(0,a.jsxs)("button",{className:(0,p.m)("btn-primary flex items-center justify-center gap-4",t),onClick:()=>b(),disabled:h,children:[g&&(0,a.jsx)(m.$,{}),n]})}},91214:function(e,t,n){n.d(t,{W:function(){return AssetInput}});var a=n(31113),s=n(26361),r=n(84944),l=n(33501),o=n(64103),i=n(45631),c=n(7530),u=n(33621),d=n(12045);function AssetInput(e){let{asset:t="ETH",checkBalance:n=!0,balance:x,balanceTit:f="Balance",balanceDecimals:p=18,exchange:m,readonly:b,selected:v,onClick:g,amount:h,setAmount:k,price:w,disable:j,hasInput:y=!1,options:A,onChange:N=()=>{},defaultValue:S,balanceClassName:B="",disableNegative:C}=e,T=(0,o.useRef)(null),P=n&&void 0!==x&&(0,s.su)("number"==typeof h?h+"":h||"")>("bigint"==typeof x?x:0n),E=(0,d.l)(e=>"dark"==e.theme);return(0,a.jsxs)("div",{className:"relative w-full",onClick:()=>{g&&!j&&g()},children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"absolute flex items-center h-fit gap-2 left-[48px] bottom-1 w-full  max-w-[calc(100%-56px)]",style:{pointerEvents:"none"},children:[w&&(0,a.jsx)("div",{className:"text-neutral-500 dark:text-slate-50/70 text-xs max-w-full overflow-hidden",children:w}),m&&(0,a.jsxs)("div",{className:"text-slate-500 dark:text-slate-50/70 text-xs max-w-full overflow-hidden",children:["~$",m]})]}),(0,a.jsxs)("div",{className:"absolute flex items-center gap-2 w-fit top-1/2 left-4 -translate-y-1/2",children:[(0,a.jsx)(u.c,{size:24,symbol:t}),(0,a.jsx)("div",{className:(0,l.Z)("relative",w||m?"-top-[6px]":""),children:y?(0,a.jsx)(i.ZP,{options:A,onChange:N,defaultValue:S,styles:{control:(e,t)=>({...e,border:"0px",outline:"none",boxShadow:"none",borderRadius:"0px",minHeight:"24px",padding:"0px",background:"transparent"}),singleValue:(e,t)=>({...e,color:E?"#fff":"#000"}),valueContainer:(e,t)=>({...e,padding:"0px"}),menu:(e,t)=>({...e,margin:0,background:E?"#444":"#fff"}),option:(e,t)=>({...e,color:E?"#fff":"#000",background:E?"transparent":"#fff"}),menuPortal:(e,t)=>({...e,margin:0})}}):(0,a.jsx)("div",{children:t})})]}),(0,a.jsx)("input",{value:h,onChange:e=>{let t=(e.target.value||"").replaceAll("-","").replaceAll("+","");k(t)},ref:T,type:"number",disabled:j,className:(0,l.Z)(b?"bg-slate-50 cursor-not-allowed dark:bg-slate-800":"bg-white dark:bg-transparent",{"border-green-700 border-2":v,"border-red-400 !border-2 focus:border-red-400":P,"border-slate-400  focus:border-blue-400":!P&&!v},"w-full h-14 text-right pr-4 pl-[8rem] font-bold text-2xl border focus:border-2 text-slate-700 rounded-md outline-none dark:text-slate-50"),placeholder:"0.000",maxLength:36,pattern:"[0-9.]{36}",step:.01,title:"",readOnly:b})]}),void 0!=x&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-1 px-1 text-slate-400 dark:text-slate-50/70 text-sm",children:[(0,a.jsxs)("div",{className:B,children:[(0,a.jsxs)("span",{children:[f,": ",(0,r.Rp)(x,3,p)]}),(0,a.jsx)("button",{className:"text-indigo-500 dark:text-violet-300 ml-2",onClick:()=>{let e=(0,c.b)(x,p);k(e),g&&!j&&g()},children:"Max"})]}),(0,a.jsx)("div",{className:"text-sm text-red-400",children:P?"Insufficient account balance":""})]})]})}},2794:function(e,t,n){n.d(t,{IS:function(){return useBlastPointsItems},aG:function(){return BlastPointCards}});var a=n(31113),s=n(26361),r=n(33621),l=n(73216),o=n(19757),i=n(90168),c=n(59175),u=n(15948),d=n(45438),x=n(47518),f=n(76034),p=n(75930),m=n(84944),b=n(64103),v=n(73083),g=n(84570),h=n(42341),k=n(22719),w=n(12045);let j={USB:"rgba(226, 254, 182, 1)",USB_dark:"#E2FEB6",ETHx:"rgba(238, 234, 254, 1)",IPx:"rgba(238, 234, 254, 1)",ETHx_dark:"linear-gradient(90deg, #C2B7FD 0%, #746D97 100%)",IPx_dark:"linear-gradient(90deg, #C2B7FD 0%, #746D97 100%)",USDBx:"linear-gradient(90deg, rgba(16, 185, 129, 0.25) 0%, rgba(99, 102, 241, 0.25) 100%)",USDBx_dark:"linear-gradient(90deg, #C2B7FD 0%, #6366F1 100%)"},y={USB:"rgba(196, 241, 126, 1)",ETHx:"rgba(219, 210, 255, 1)",IPx:"rgba(219, 210, 255, 1)",USDBx:"rgba(255, 255, 255, 1)"};function useBlastPointsItems(){let e=(0,c.p)(),{prices:t,usbApr:n}=(0,b.useContext)(p.g),a=(0,f.a)(),r=(0,d.i)(),i=(0,x.m)(),u=(0,b.useMemo)(()=>{let n=[],r=o.iK[e];if(l.DF.find(t=>t.id==e)){let c=t[o.K8],u=t[o.O1[e]],calcPoint=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100n;return 0n==c?"0":(0,m.Rp)(6504987n*302400n*e*t/c,0,8)};n.push({symbol:"USB",tit:"APY:".concat((0,s.Jh)(i[o.O1[e]],10)," ~ ").concat((0,s.Jh)(i.USB_END,10)),sub:"~ Interest + Earning",point:calcPoint(u),per:100}),r.filter(e=>"USDB"==e.assetTokenSymbol||e.assetTokenSymbol==(0,l.b)()).forEach(e=>{let r=e.assetTokenSymbol==(0,l.b)()?"".concat((0,l.b)()," GAIN BOOSTER"):"APY:".concat((0,s.Jh)(i[e.xTokenAddress],10)),o=e.isStable&&(0,l.WA)()?"~ ".concat(a[e.vault].toFixed(2),"x Blast Native Yield"):"~ ".concat(a[e.vault].toFixed(2),"x Leveraged long on ").concat(e.assetTokenSymbol);n.push({symbol:e.xTokenSymbol,tit:r,sub:o,point:calcPoint(t[e.xTokenAddress],e.xTokenSymbol=="".concat((0,l.b)(),"x")?1n:100n),per:e.xTokenSymbol=="".concat((0,l.b)(),"x")?1:100})})}return n},[e,t,a,n,r]);return u}function BlastPointCard(e){let{symbol:t,tit:n,sub:u,point:d}=e,x=(0,c.p)(),f=(0,b.useMemo)(()=>{var e,n;let a=(0,i.l)(x,!1),r={USB:"USDB",["".concat((0,l.b)(),"x")]:(0,l.b)(),USDBx:"USDB"},c=null===(e=a.find(e=>e.symbol==r[t]))||void 0===e?void 0:e.address,u=null===(n=a.find(e=>e.symbol==t))||void 0===n?void 0:n.address;if(!c||!u)return"";let convertNative=e=>e==o.K8?"0x0000000000000000000000000000000000000000":e;return(0,s.h$)(convertNative(c),convertNative(u))},[x]),p=(0,w.l)(e=>e.theme);return(0,a.jsxs)("div",{style:{boxShadow:"0px 0px 12px 0px rgba(187, 215, 144, 0.4)"},className:"rounded-2xl overflow-hidden bg-white text-base flex flex-col dark:bg-slate-950",children:[(0,a.jsxs)("div",{className:"flex md:flex-wrap items-center p-4 gap-2 dark:text-black",style:{background:j["".concat(t,"_").concat(p)]||j[t]},children:[(0,a.jsx)(r.c,{symbol:t,size:42,className:"shrink-0"}),(0,a.jsx)("div",{className:"font-semibold",children:t}),(0,a.jsxs)("div",{className:"whitespace-nowrap text-center text-sm ml-auto flex flex-col items-center flex-1",children:[(0,a.jsx)("div",{className:"rounded-full px-2 py-[2px] w-fit",style:{background:y[t]},children:n}),(0,a.jsx)("div",{className:"mt-1",children:u})]})]}),(0,a.jsxs)("div",{className:"flex justify-between p-4 whitespace-nowrap text-sm items-center gap-2",children:[(0,a.jsx)(k._,{icons:["blast","gold","wand"]}),(0,a.jsxs)("a",{className:"underline text-slate-500 dark:text-slate-50 flex items-center gap-1",href:f,target:"_blank",children:["Swap on Thruster ",(0,a.jsx)(v.Ig3,{})]})]})]})}function BlastPointCards(){let e=useBlastPointsItems(),[t,n]=(0,u.n)(e=>{let{width:t}=e;return t<970});return 0==e.length?null:(0,a.jsxs)("div",{ref:t,className:"grid grid-cols-1 md:grid-cols-3 gap-5 md:pb-[60px]",children:[!n&&e.map(e=>(0,a.jsx)(BlastPointCard,{...e},e.symbol)),n&&(0,a.jsx)(h.tq,{spaceBetween:20,pagination:{clickable:!0,renderBullet:function(e,t){return'<div class="'+t+'"></div>'}},className:"-translate-x-[1rem] !px-4 !pb-10 !w-screen",modules:[g.tl],children:e.map(e=>(0,a.jsx)(h.o5,{children:(0,a.jsx)(BlastPointCard,{...e})},e.symbol))})]})}},22719:function(e,t,n){n.d(t,{_:function(){return PointsIcons}});var a=n(31113),s=n(73216),r=n(59175),l=n(26361);let o={};function PointsIcons(e){let{className:t,icons:n}=e,i=(0,r.p)(),c=!s.DF.find(e=>e.id==i);console.info("isUnBlast",c);let u=n.filter(e=>!c||!["blast","gold"].includes(e));return(0,a.jsxs)("div",{className:(0,l.cn)("flex gap-1 items-center",t),children:[(0,a.jsx)("span",{className:"mr-2",children:"Points:"}),u.map((e,t)=>(0,a.jsx)("img",{className:"rounded-full w-5 h-5 object-fill",alt:e,src:o[e]||"".concat(e,".png")},e))]})}},15948:function(e,t,n){n.d(t,{n:function(){return useElementSizeCheck}});var a=n(85665);function useElementSizeCheck(e){let[t,n]=(0,a.Z)();return[t,e(n)]}},47518:function(e,t,n){n.d(t,{m:function(){return useTokenApys}});var a=n(26361),s=n(88439),r=n(45438),l=n(76034),o=n(64103),i=n(75930),c=n(59175),u=n(19757),d=n(12396);function useTokenApys(){let e=(0,s.b)(()=>(0,a.Yb)({},0n)),t=(0,c.p)(),{prices:n,usbApr:x,stableVaultsState:f}=(0,o.useContext)(i.g),p=(0,l.a)(),m=(0,r.i)();return(0,o.useMemo)(()=>{let n=u.iK[t],s=(0,a.ok)(m[n[0].ptyPoolBelowAddress],"staking");e[u.O1[t]]=x.apr,e.USB_END=x.apr+s;let r=(0,d.v)("0.1",10);return n.forEach(t=>{if(t.assetTokenAddress!=u.K8){let n=p[t.vault]>1n?(0,d.v)("".concat((p[t.vault]-1).toFixed(2)),10):0n,a=(0,d.v)("1",10);e[t.xTokenAddress]=(n*(r-f[t.vault].Y*f[t.vault].aar/a)+r*a)/a}}),null},[t,n,p,x,m,f]),e}},76034:function(e,t,n){n.d(t,{a:function(){return useValutsLeverageRatio},z:function(){return useVaultLeverageRatio}});var a=n(19757),s=n(26361),r=n(75930),l=n(64103),o=n(59175),i=n(88439);function useVaultLeverageRatio(e){let{vaultsState:t,stableVaultsState:n}=(0,l.useContext)(r.g),a=t[(null==e?void 0:e.vault)||"null"],o=n[(null==e?void 0:e.vault)||"null"],i=(null==e?void 0:e.isStable)?(0,s.pF)(o.aar,o.AARDecimals):(0,s.pF)(a.aar,a.AARDecimals);return Math.max(0,1+1/(i-1))}function useValutsLeverageRatio(){let{vaultsState:e,stableVaultsState:t}=(0,l.useContext)(r.g),n=(0,o.p)(),c=a.iK[n],u=(0,i.b)(()=>new Proxy({},{get:function(e,t){return t in e&&null!==e[t]&&void 0!==e[t]?e[t]:0}}));return c.forEach(n=>{let a=e[(null==n?void 0:n.vault)||"null"],r=t[(null==n?void 0:n.vault)||"null"],l=(null==n?void 0:n.isStable)?(0,s.pF)(r.aar,r.AARDecimals):(0,s.pF)(a.aar,a.AARDecimals);u[n.vault]=Math.max(0,1+1/(l-1))}),u}},78354:function(e,t,n){n.d(t,{R:function(){return useWrapContractWrite}});var a=n(26361),s=n(64103),r=n(47259),l=n(9709),o=n(64040),i=n(15506);function useWrapContractWrite(e,t){let{autoToast:n=!0,onSuccess:c}=t||{},[u,d]=(0,s.useState)(!1),[x,f]=(0,s.useState)(!1),p=(0,l.t)(),{data:m}=(0,o.p)(),b=!p||!m||!m.account||u||!e,v=(0,i.hp)(),write=async()=>{if(!b){d(!0),f(!1);try{let t="function"==typeof e?await e():e,{request:a}=await p.simulateContract({account:m.account,...t}),s=await m.writeContract(a),l=await p.waitForTransactionReceipt({hash:s});if("success"!==l.status)throw"Transaction reverted";f(!0),c&&c(),n&&r.A.success("Transaction success"),v.update()}catch(e){n&&r.A.error((0,a.az)(e))}d(!1)}};return{write,isDisabled:b,isLoading:u,isSuccess:x}}}}]);