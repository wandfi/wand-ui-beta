(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{89517:function(e,t,s){Promise.resolve().then(s.bind(s,47288))},47288:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return q}});var n=s(9268),i=s(90937),a=s(76394),l=s.n(a);s(30348);var o=s(87402),d=s(76928);function r(e){let{data:t}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)(d.HH,{type:"source",position:d.Ly.Right}),(0,n.jsx)(d.HH,{type:"target",position:d.Ly.Left}),t.asset&&(0,n.jsx)(l(),{width:48,height:48,src:"/".concat((0,o.H)(t.asset),".svg"),alt:"eth"}),(0,n.jsx)("div",{className:"text-sm font-medium text-slate-500 mt-1 text-center",children:t.value})]})}var c=s(86006),u=e=>{let{id:t,sourceX:s,sourceY:i,targetX:a,targetY:l,sourcePosition:o,targetPosition:r,data:c}=e,[u,x,m]=(0,d.Hm)({sourceX:s,sourceY:i,targetX:a,targetY:l});(0,d.OQ)({sourceX:s,sourceY:i,targetX:a,targetY:l});let h=a-s,f=l-i,v=Math.atan2(f,h)*(180/Math.PI);return console.log(v),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.u5,{id:t,path:u}),(0,n.jsx)(d.XQ,{children:(0,n.jsxs)("div",{className:"nodrag nopan",style:{position:"absolute",transform:"translate(-50%, -50%) translate(".concat(x,"px,").concat(m,"px)"),padding:10,borderRadius:5,fontSize:12},children:[(0,n.jsx)("div",{style:{transform:"translateY(-10px) rotate(".concat(v,"deg)"),textAlign:"center"},children:null==c?void 0:c.labelUp}),(0,n.jsx)("div",{style:{transform:"translateY(10px) rotate(".concat(v,"deg)"),textAlign:"center"},children:null==c?void 0:c.labelDown})]})})]})};function x(){return(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsx)(d.HH,{type:"source",position:d.Ly.Right}),(0,n.jsx)(d.HH,{type:"target",position:d.Ly.Left}),(0,n.jsx)("div",{className:"w-0.5 h-0.5"})]})}function m(){return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.HH,{type:"source",position:d.Ly.Bottom}),(0,n.jsx)(d.HH,{type:"target",position:d.Ly.Left}),(0,n.jsx)("div",{className:"font-medium text-sm text-slate-500 text-center absolute -top-8 left-1/2 -translate-x-1/2 w-full",children:"Rewards"}),(0,n.jsxs)("div",{className:"p-6 gap-6 flex bg-white border border-indigo-500 border-dashed rounded-lg",children:[(0,n.jsx)(l(),{width:32,height:32,src:"/ETHx.svg",alt:"ETHx"}),(0,n.jsx)(l(),{width:32,height:32,src:"/WBTCx.svg",alt:"WBTCx"}),(0,n.jsx)(l(),{width:32,height:32,src:"/stETHx.svg",alt:"stETHx"})]})]})}function h(){return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.HH,{className:"fill-slate-500",type:"source",position:d.Ly.Right}),(0,n.jsx)(d.HH,{className:"fill-slate-500",type:"target",position:d.Ly.Left,id:"left"}),(0,n.jsx)(d.HH,{className:"fill-slate-500",type:"target",position:d.Ly.Bottom,id:"bottom"}),(0,n.jsx)("div",{className:"font-medium text-sm text-slate-500 text-center absolute -top-8 left-1/2 -translate-x-1/2 w-full",children:"Underlying Assets"}),(0,n.jsxs)("div",{className:"p-6 gap-6 flex bg-white border border-indigo-500 border-dashed rounded-lg",children:[(0,n.jsx)(l(),{width:32,height:32,src:"/ETH.svg",alt:"ETH"}),(0,n.jsx)(l(),{width:32,height:32,src:"/WBTC.svg",alt:"WBTC"}),(0,n.jsx)(l(),{width:32,height:32,src:"/stETH.svg",alt:"stETH"})]})]})}function f(){return(0,n.jsxs)("div",{children:[(0,n.jsx)(d.HH,{type:"source",position:d.Ly.Right}),(0,n.jsx)(d.HH,{type:"target",position:d.Ly.Left}),(0,n.jsx)(l(),{width:48,height:48,src:"/USB.svg",alt:"usb"}),(0,n.jsx)("div",{className:"text-sm font-medium text-slate-500 mt-1 text-center",children:"$1.00"})]})}function v(){return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(d.HH,{type:"source",position:d.Ly.Right}),(0,n.jsx)(l(),{width:48,height:48,src:"/USDT.svg",alt:"usdt"}),(0,n.jsx)("div",{className:"text-sm font-medium mt-1 text-center",children:"USDT"}),(0,n.jsx)(l(),{className:"mt-6",width:48,height:48,src:"/USDC.svg",alt:"usdc"}),(0,n.jsx)("div",{className:"text-sm font-medium mt-1 text-center",children:"USDC"})]})}var g=s(51490);function b(e){let{token:t="ETH"}=e,s=(0,c.useMemo)(()=>({usdt:v,underlying_assets:h,usb:f,rewards:m,invisible:x,asset:r}),[]),i=[{id:"start",position:{x:0,y:0},data:{asset:t,value:"$1935.00"},type:"asset",sourcePosition:d.Ly.Right},{id:"usb",position:{x:400,y:-100},data:{asset:"usb",value:"$1.00"},type:"asset",targetPosition:d.Ly.Left,sourcePosition:d.Ly.Right},{id:"invisible-1",position:{x:200,y:36},data:{},type:"invisible",targetPosition:d.Ly.Left,sourcePosition:d.Ly.Right},{id:"xtoken",position:{x:400,y:100},data:{asset:t+"x",value:"$1,232.00"},type:"asset",targetPosition:d.Ly.Left,sourcePosition:d.Ly.Right},{id:"invisible-2",position:{x:640,y:36},data:{},type:"invisible",targetPosition:d.Ly.Left,sourcePosition:d.Ly.Right},{id:"end",position:{x:800,y:0},type:"asset",sourcePosition:d.Ly.Right,data:{asset:t,value:"2"}}],a=[{id:"mint-usb",source:"start",target:"invisible-1",label:"Mint",type:"custom",targetHandle:"left",style:{strokeWidth:2},data:{labelUp:"Mint",labelDown:"1.00 WBTC"},markerEnd:{type:d.QZ.Arrow}},{id:"mint-token",source:"invisible-1",target:"usb",style:{strokeWidth:2},type:"custom",data:{labelUp:"896.12 USB"},labelStyle:{fontSize:14,fill:"#64748B"}},{id:"mint-xtoken",source:"invisible-1",target:"xtoken",style:{strokeWidth:2},type:"custom",data:{labelDown:"1.23 ETHx"},labelStyle:{fontSize:14,fill:"#64748B"}},{id:"redeem-usb",source:"usb",target:"invisible-2",style:{strokeWidth:2},type:"custom",data:{labelUp:"896.12 USB"},labelStyle:{fontSize:14,fill:"#64648B"}},{id:"redeem-xtoken",source:"xtoken",target:"invisible-2",style:{strokeWidth:2},type:"custom",data:{labelDown:"1.23 ETHx"},labelStyle:{fontSize:14,fill:"#64648B"}},{id:"redeem-token",source:"invisible-2",target:"end",style:{strokeWidth:2},type:"custom",data:{labelUp:"Redeem",labelDown:"1.00 ETH"},labelStyle:{fontSize:14,fill:"#64648B"}}];return(0,n.jsx)(d.x$,{fitView:!0,edges:a,nodes:i,nodeTypes:s,edgeTypes:{custom:u},zoomOnPinch:!1,zoomOnScroll:!1,panOnDrag:!1,panOnScroll:!1,children:(0,n.jsx)(g.A,{style:{background:"white"}})})}function p(e){let{token:t="ETH"}=e,s=(0,c.useMemo)(()=>({usdt:v,underlying_assets:h,usb:f,rewards:m,invisible:x,asset:r}),[]),i=[{id:"start",position:{x:0,y:0},data:{asset:t,value:"$1935.00"},type:"asset",sourcePosition:d.Ly.Right},{id:"usb",position:{x:400,y:-100},data:{asset:"usb",value:"$1.00"},type:"asset",targetPosition:d.Ly.Left,sourcePosition:d.Ly.Right},{id:"xtoken",position:{x:400,y:100},data:{asset:t+"x",value:"$1,232.00"},type:"asset",targetPosition:d.Ly.Left,sourcePosition:d.Ly.Right},{id:"end",position:{x:800,y:0},type:"asset",sourcePosition:d.Ly.Right,data:{asset:t,value:"2"}}],a=[{id:"mint-usb",source:"start",target:"usb",label:"Mint",type:"custom",targetHandle:"left",style:{strokeWidth:2},data:{labelUp:"Minting is only allowed during downward adjustment",labelDown:"1,935.00 USB"},markerEnd:{type:d.QZ.Arrow}},{id:"usb",source:"usb",target:"end",style:{strokeWidth:2},type:"custom",data:{labelDown:"1,935.00 USB"},labelStyle:{fontSize:14,fill:"#64748B"}},{id:"mint-xtoken",source:"start",target:"xtoken",style:{strokeWidth:2},type:"custom",data:{labelUp:"1.23 ".concat(t,"x"),labelDown:"Minting is only allowed during upward adjustment"},labelStyle:{fontSize:14,fill:"#64648B"}},{id:"redeem-xtoken",source:"xtoken",target:"end",style:{strokeWidth:2},type:"custom",data:{labelUp:"1.23 ".concat(t,"x"),labelDown:"Redemption is only allowed during downward adjustment"},labelStyle:{fontSize:14,fill:"#64648B"}},{id:"redeem-token",source:"invisible-2",target:"end",style:{strokeWidth:2},type:"custom",data:{labelUp:"Redeem",labelDown:"1.00 ETH"},labelStyle:{fontSize:14,fill:"#64648B"}}];return(0,n.jsx)(d.x$,{fitView:!0,edges:a,nodes:i,nodeTypes:s,edgeTypes:{custom:u},zoomOnPinch:!1,zoomOnScroll:!1,panOnDrag:!1,panOnScroll:!1,children:(0,n.jsx)(g.A,{style:{background:"white"}})})}var y=s(44028),j=s(27374),N=s(77941),S=s(82861);function w(e){var t,s;let{asset:a}=e,{prices:o,leverages:d}=(0,c.useContext)(N.SwapContext),r=null==o?void 0:null===(t=o.find(e=>e.symbol===a+"x"))||void 0===t?void 0:t.price,u=null==d?void 0:null===(s=d.find(e=>e.symbol===a))||void 0===s?void 0:s.leverage;return console.log(d),(0,n.jsxs)("h5",{className:"font-bold text-sm text-slate-700 mt-4",children:["Net Value",(0,n.jsx)(y.zt,{children:(0,n.jsxs)(y.fC,{children:[(0,n.jsx)(y.xz,{asChild:!0,children:(0,n.jsx)("div",{className:"inline-block px-1",children:(0,n.jsx)(j.if7,{className:"ml-1 inline-block w-[14px] h-[14px] stroke-slate-500"})})}),(0,n.jsx)(y.h_,{children:(0,n.jsxs)(y.VY,{className:"max-w-xs text-sm text-white bg-slate-900 rounded-md p-4",children:["The Net value is calculated based on the underlying assets and is backed by these assets. The Market Price on secondary markets might deviate from the Net value due to a variety of factors. Anyone can engage in arbitrage, and such actions will serve to eliminate these discrepancies.",(0,n.jsx)(y.Eh,{})]})})]})}),(0,n.jsxs)(i.iA,{className:"mt-4 text-sm",children:[(0,n.jsx)(i.ss,{}),(0,n.jsxs)(i.RM,{children:[(0,n.jsxs)(i.SC,{children:[(0,n.jsxs)(i.pj,{className:"font-medium flex gap-2 px-0",children:[(0,n.jsx)(l(),{src:"/USB.svg",width:20,height:20,alt:"USB"}),"USB"]}),(0,n.jsx)(i.pj,{children:"Universal Stable Basis"}),(0,n.jsx)(i.pj,{}),(0,n.jsx)(i.pj,{className:"text-right",children:"$1"})]}),(0,n.jsxs)(i.SC,{children:[(0,n.jsxs)(i.pj,{className:"font-medium flex gap-2 px-0",children:[(0,n.jsx)(l(),{src:"/".concat(a+"x",".svg"),width:20,height:20,alt:"ETHx"}),a,"x"]}),(0,n.jsxs)(i.pj,{children:[(0,n.jsxs)("span",{className:"text-base font-semibold text-slate-700",children:[(0,S.dq)(u),"x "]}),"Leveraged long on stETH"]}),(0,n.jsx)(i.pj,{}),(0,n.jsxs)(i.pj,{className:"text-right",children:["$",(0,S.dq)(r)]})]})]})]})]})}var B=s(78592),k=s(12120),L=s(87782),H=s(57756),U=s(75503),T=s(17901),C=s(32795),E=s(43534),R=s(19707),M=s(18624),P=s(85418),A=s(16237),W=s(16625),D=s(32100),z=s(79552),O=s(20587);function $(e){var t,s,i,a,l,d;let{asset:r}=e,[u,x]=(0,c.useState)("mint"),{address:m}=(0,R.mA)(),[h,f]=(0,c.useState)(""),[v,g]=(0,c.useState)(""),[b,p]=(0,c.useState)(""),{prices:y,allowances4pool:j,r2s:w}=(0,c.useContext)(N.SwapContext),{balances:$}=(0,c.useContext)(H.FetcherContext),q=(0,c.useMemo)(()=>{var e;return null==$?void 0:null===(e=$.find(e=>e.symbol===r))||void 0===e?void 0:e.balance},[$]),I=(0,c.useMemo)(()=>{var e;return null==$?void 0:null===(e=$.find(e=>"USB"===e.symbol))||void 0===e?void 0:e.balance},[$]),X=(0,c.useMemo)(()=>{var e;return null==$?void 0:null===(e=$.find(e=>e.symbol===r+"x"))||void 0===e?void 0:e.balance},[$]),F=(0,c.useMemo)(()=>{var e;return null!==(a=null==y?void 0:null===(e=y.find(e=>e.symbol===r))||void 0===e?void 0:e.price)&&void 0!==a?a:0n},[y,r]),G=(0,c.useMemo)(()=>{var e;return null!==(l=null==y?void 0:null===(e=y.find(e=>e.symbol===r+"x"))||void 0===e?void 0:e.price)&&void 0!==l?l:0n},[y,r]),[J,V]=(0,c.useState)("USB"),[Z,_]=(0,c.useState)("USB"),Q="mint"===u?r:Z,Y="mint"===u?J:r,K=null==j?void 0:null===(t=j.find(e=>e.symbol===Q))||void 0===t?void 0:t.allowance,ee=K<(0,U.f)(h),et=null===(s=E.C.find(e=>e.assetTokenSymbol===r))||void 0===s?void 0:s.poolAddress,{data:es}=(0,R.do)({address:et,abi:M.j,functionName:"calculateMintUSBOut",args:[(0,U.f)(h)],chainId:(0,P.B)(),enabled:(0,U.f)(h)>0&&"USB"===J}),{data:en}=(0,R.do)({address:et,abi:M.j,functionName:"calculateMintXTokensOut",args:[(0,U.f)(h)],chainId:(0,P.B)(),enabled:(0,U.f)(h)>0&&(0,C.Uv)(J)}),{data:ei}=(0,R.do)({address:et,abi:M.j,functionName:"calculateRedemptionOutByUSB",args:[(0,U.f)(v)],chainId:(0,P.B)(),account:m,enabled:(0,U.f)(v)>0&&"USB"===Z}),ea="USB"===Z?null==ei?void 0:ei[0]:(0,U.f)(b),el=W.e.find(e=>e.symbol===r),{approve:eo,isApproveLoading:ed}=(0,A.y)(null==el?void 0:el.address[(0,P.B)()],et);W.e.find(e=>"USB"===e.symbol);let{approve:er,isApproveLoading:ec}=(0,A.y)(null==el?void 0:el.address[(0,P.B)()],et),eu=null!==(d=null==w?void 0:null===(i=w.find(e=>e.symbol===r))||void 0===i?void 0:i.r2)&&void 0!==d?d:0n,{swap:ex,isSwapLoading:em}=(0,z.Z)(et,"mint"===u?h:v,Q,Y,eu,!ee),eh="USB"===J?es:0n,ef="USB"!==J?en:0n,{data:ev}=(0,R.do)({address:et,abi:M.j,functionName:"calculatePairedUSBAmountToRedeemByXTokens",args:[(0,U.f)(b)],chainId:(0,P.B)(),enabled:(0,U.f)(b)>=0&&"USB"!==Z}),{redeemByXToken:eg,isRedeemByXTokenLoading:eb}=(0,O.k)(et,b,!!ev);return console.log(ev),console.log(b),(0,c.useEffect)(()=>{0n===(0,T.v)(b,0)&&g(""),ev&&"USB"!==Z&&g((0,S.ZM)(ev))},[ev,b]),(0,n.jsxs)("div",{className:"card relative",children:[(0,n.jsxs)("div",{className:"absolute top-[29px] right-6 text-sm leading-5 flex items-center gap-1.5 bg-indigo-50 border border-indigo-500 px-3 py-1.5 rounded-full",children:[(0,n.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500"}),(0,n.jsx)("div",{className:"text-indigo-700",children:"Adjustment Mode"})]}),(0,n.jsx)("div",{className:"relative flex items-center justify-between",children:(0,n.jsxs)(k.fC,{defaultValue:"mint",className:"w-full",onValueChange:e=>x(e),children:[(0,n.jsxs)(k.aV,{className:"bg-slate-100 p-1 w-fit rounded-md",children:[(0,n.jsx)(k.xz,{className:'rounded-[3px] text-sm py-1.5 px-3 text-slate-500 font-medium data-[state="active"]:bg-white data-[state="active"]:text-slate-900',value:"mint",children:"Mint"}),(0,n.jsx)(k.xz,{className:'rounded-[3px] text-sm py-1.5 px-3 text-slate-500 font-medium data-[state="active"]:bg-white data-[state="active"]:text-slate-900',value:"redeem",children:"Redeem"})]}),(0,n.jsx)(k.VY,{value:"mint",className:"flex flex-col gap-6",children:(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsx)(B.W,{asset:r,exchange:(0,S.dq)(F*(0,T.v)(h,0)),balance:(0,S.dq)(q),amount:h,setAmount:f}),(0,n.jsx)("div",{className:"w-8 h-8 mx-auto flex items-center justify-center text-slate-400 rounded-full border border-slate-200 mb-6",children:(0,n.jsx)(L.gPZ,{})}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)(B.W,{amount:(0,S.ZM)(eh),onClick:()=>{V("USB")},asset:"USB",exchange:(0,S.dq)(eh),readonly:!0,selected:"USB"===J}),(0,n.jsx)(B.W,{amount:(0,S.ZM)(ef),onClick:()=>{V("".concat((0,o.H)(r+"x")))},asset:"".concat((0,o.H)(r+"x")),exchange:(0,S.dq)(G*(null!=ef?ef:0n)/10n**18n),readonly:!0,selected:J==="".concat((0,o.H)(r),"x")})]}),ee?(0,n.jsxs)("button",{className:"btn-primary flex items-center justify-center gap-4",onClick:eo,disabled:!eo||ed,children:[ed&&(0,n.jsx)(D.$,{}),"Approve"]}):(0,n.jsxs)("button",{className:"btn-primary bg-indigo-500 flex items-center justify-center gap-4",onClick:ex,disabled:!ex||em,children:[em&&(0,n.jsx)(D.$,{}),"Mint"]})]})}),(0,n.jsx)(k.VY,{value:"redeem",className:"flex flex-col gap-6",children:(0,n.jsxs)("div",{className:"mt-6",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)(B.W,{amount:v,setAmount:g,balance:(0,S.dq)(I),onClick:()=>{_("USB"),p("")},asset:"USB",exchange:(0,S.dq)((0,T.v)(v,18)),readonly:"USB"!==Z,selected:"USB"===Z}),(0,n.jsx)(B.W,{amount:b,setAmount:p,asset:"".concat((0,o.H)(r),"x"),onClick:()=>{_("ETHx"),g("")},exchange:(0,S.dq)((0,T.v)(b,18)*G/10n**18n),balance:(0,S.dq)(X),readonly:Z!==r+"x",selected:"ETHx"===Z})]}),(0,n.jsx)("div",{className:"w-8 h-8 mx-auto flex items-center justify-center text-slate-400 rounded-full border border-slate-200 mb-6",children:(0,n.jsx)(L.gPZ,{})}),(0,n.jsx)(B.W,{asset:"".concat((0,o.H)(r)),amount:(0,S.dq)(ea),exchange:"1720.23",readonly:!0}),ee?(0,n.jsxs)("button",{className:"btn-primary flex items-center justify-center gap-4",onClick:eo,disabled:!eo||ed,children:[ed&&(0,n.jsx)(D.$,{}),"Approve"]}):(0,n.jsx)(n.Fragment,{children:"USB"===Z?(0,n.jsxs)("button",{className:"btn-primary bg-indigo-500 flex items-center justify-center gap-4",onClick:ex,disabled:!ex||em,children:[em&&(0,n.jsx)(D.$,{}),"Redeem"]}):(0,n.jsxs)("button",{className:"btn-primary bg-indigo-500 flex items-center justify-center gap-4",onClick:eg,disabled:!eg||eb,children:[eb&&(0,n.jsx)(D.$,{}),"Redeem"]})})]})})]})})]})}function q(e){var t,s,a,d,r,u;let{params:x}=e,{slug:m}=x,h=(0,o.H)(m),{prices:f,leverages:v,aars:g,assetQs:y}=(0,c.useContext)(N.SwapContext),j=null!==(r=null==f?void 0:null===(t=f.find(e=>e.symbol===h))||void 0===t?void 0:t.price)&&void 0!==r?r:0n;null==v||null===(s=v.find(e=>e.symbol===h))||void 0===s||s.leverage;let B=null==g?void 0:null===(a=g.find(e=>e.symbol===h))||void 0===a?void 0:a.aar,k=null!==(u=null==y?void 0:null===(d=y.find(e=>e.symbol===h))||void 0===d?void 0:d.amount)&&void 0!==u?u:0n;return(0,n.jsxs)("div",{children:[(0,n.jsxs)(i.rj,{numItemsSm:2,className:"gap-3",children:[(0,n.jsxs)("div",{className:"card",children:[(0,n.jsxs)("div",{className:"px-4 py-6 bg-slate-50 rounded-xl",children:[(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("div",{className:"text-slate-700",children:"Total Value Locked"}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,S.dq)(k)," ",(0,n.jsx)(l(),{className:"ml-1",width:20,height:20,src:"/".concat((0,o.H)(m),".svg"),alt:""}),(0,n.jsxs)("span",{className:"text-slate-500",children:["(~$",(0,S.dq)(k*j/10n**18n),")"]})]})]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm mt-4",children:[(0,n.jsx)("div",{className:"text-slate-700",children:"AAR (Asset Adequacy Ratio)"}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,S.Rp)(B,2,8),"%"]})]})]}),(0,n.jsx)(w,{asset:h})]}),(0,n.jsx)($,{asset:h})]}),(0,n.jsx)(i.Dx,{className:"mt-20 text-2xl",children:"Illustration"}),(0,n.jsx)(i.Dx,{className:"mt-6",children:"Balanced minting and redemption"}),(0,n.jsx)("div",{className:"w-full h-96 rounded-2xl mt-6 border border-slate-200 overflow-hidden",children:(0,n.jsx)(b,{token:m})}),(0,n.jsx)(i.Dx,{className:"mt-6",children:"Flexible trading is only effective during the adjustment phase"}),(0,n.jsx)("div",{className:"w-full h-96 rounded-2xl mt-6 border border-slate-200 overflow-hidden",children:(0,n.jsx)(p,{token:m})})]})}},78592:function(e,t,s){"use strict";s.d(t,{W:function(){return d}});var n=s(9268),i=s(63831),a=s(76394),l=s.n(a),o=s(86006);function d(e){let{asset:t="ETH",balance:s,exchange:a,readonly:d,selected:r,onClick:c,amount:u,setAmount:x}=e,m=(0,o.useRef)(null);return(0,n.jsxs)("div",{className:"relative",onClick:()=>{var e;c&&c(),null===(e=m.current)||void 0===e||e.focus()},children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"absolute flex items-center gap-2 top-1/2 left-4 -translate-y-1/2",children:[(0,n.jsx)(l(),{width:24,height:24,src:"/".concat(t,".svg"),alt:""}),(0,n.jsxs)("div",{className:"text-base font-medium",children:[t,a&&(0,n.jsxs)("div",{className:"text-slate-500 text-xs",children:["~$",a]})]})]}),(0,n.jsx)("input",{value:u,onChange:e=>x(e.target.value),ref:m,type:"number",className:(0,i.Z)("w-full h-16 text-right pr-4 font-bold text-2xl border text-slate-700 rounded-md focus:ring-2 focus:outline-blue-500",d?"bg-slate-50":"bg-white",r?"border-indigo-500":"border-slate-200"),placeholder:"0.00",step:.01,readOnly:d})]}),s&&(0,n.jsxs)("div",{className:"text-slate-400 pl-3 mt-1 text-sm",children:["Balance: ",s,(0,n.jsx)("button",{className:"text-indigo-500 ml-2",onClick:()=>{var e;return x(null===(e=String(s))||void 0===e?void 0:e.replace(",",""))},children:"Max"})]})]})}},32100:function(e,t,s){"use strict";s.d(t,{$:function(){return i}});var n=s(9268);let i=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{fill:"none",className:t?"text-white":"animate-spin h-5 w-5 2-ml-1 2mr-3",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},16625:function(e,t,s){"use strict";s.d(t,{e:function(){return o}});var n=s(43534),i=s(80237),a=s(61997),l=s(56883);let o=[...n.C.map(e=>({symbol:e.assetTokenSymbol,address:{[i.ws.id]:e.assetTokenAddress,[a.RJ.id]:e.assetTokenAddress}})).filter(e=>"ETH"!==e.symbol),...n.C.map(e=>({symbol:e.xTokenSymbol,address:{[i.ws.id]:e.xTokenAddress,[a.RJ.id]:e.xTokenAddress}})),{symbol:"USB",address:{[i.ws.id]:l.O[i.ws.id],[a.RJ.id]:l.O[a.RJ.id]}}]},56883:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});var n=s(80237),i=s(61997);let a={[n.ws.id]:"0x9EAFdB7111628129fFee1af04593858E09797cD6",[i.RJ.id]:""}},16237:function(e,t,s){"use strict";s.d(t,{y:function(){return a}});var n=s(19707),i=s(69624);let a=(e,t)=>{let{config:s}=(0,n.PJ)({address:e,abi:i.em,functionName:"approve",args:[t,100000000n*BigInt(1e18)],enabled:!!t&&!!e&&"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"!==e}),{write:a,data:l,isLoading:o}=(0,n.GG)(s),{isLoading:d}=(0,n.BX)({hash:null==l?void 0:l.hash});return{approve:a,isApproveLoading:o||d}}},20587:function(e,t,s){"use strict";s.d(t,{k:function(){return l}});var n=s(19707),i=s(18624),a=s(75503);let l=(e,t,s)=>{let{config:l}=(0,n.PJ)({address:e,abi:i.j,functionName:"redeemByXTokens",args:[(0,a.f)(t)],enabled:(0,a.f)(t)>0&&s}),{write:o,data:d,isLoading:r}=(0,n.GG)(l),{isLoading:c}=(0,n.BX)({hash:null==d?void 0:d.hash});return{redeemByXToken:o,isRedeemByXTokenLoading:r||c}}},79552:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var n=s(19707),i=s(18624),a=s(75503);let l=(e,t,s,l)=>{let{config:o}=(0,n.PJ)({address:e,abi:i.j,functionName:"mintUSB",args:[(0,a.f)(t)],enabled:(0,a.f)(t)>0&&l,value:(0,a.f)(s)}),{write:d,data:r,isLoading:c}=(0,n.GG)(o),{isLoading:u}=(0,n.BX)({hash:null==r?void 0:r.hash});return{mintUSB:d,isMintLoading:c||u}};var o=s(90863);let d=(e,t,s,l)=>{let{config:o}=(0,n.PJ)({address:e,abi:i.j,functionName:"mintXTokens",args:[(0,a.f)(t)],enabled:!!t&&l,value:(0,a.f)(s)}),{write:d,data:r,isLoading:c}=(0,n.GG)(o),{isLoading:u}=(0,n.BX)({hash:null==r?void 0:r.hash});return{mintXToken:d,isMintXLoading:c||u}};var r=s(32795),c=s(20587);let u=(e,t,s)=>{let{config:l}=(0,n.PJ)({address:e,abi:i.j,functionName:"redeemByUSB",args:[(0,a.f)(t)],enabled:(0,a.f)(t)>0&&s}),{write:o,data:d,isLoading:r}=(0,n.GG)(l),{isLoading:c}=(0,n.BX)({hash:null==d?void 0:d.hash});return{redeemByUSB:o,isRedeemByUSBLoading:r||c}},x=(e,t,s)=>{let{config:l}=(0,n.PJ)({address:e,abi:i.j,functionName:"usbToXTokens",args:[(0,a.f)(t)],enabled:!!t&&s}),{write:o,data:d,isLoading:r}=(0,n.GG)(l),{isLoading:c}=(0,n.BX)({hash:null==d?void 0:d.hash});return{usb2XToken:o,isUsb2XTokenLoading:r||c}};var m=s(86006);let h=(e,t,s,n,i,a)=>{let{mintUSB:h,isMintLoading:f}=l(e,t,"ETH"===s?t:"0",i!==o.q&&"USB"===n&&a),{mintXToken:v,isMintXLoading:g}=d(e,t,"ETH"===s?t:"0",(0,r.p8)(s)&&(0,r.Uv)(n)),{redeemByXToken:b,isRedeemByXTokenLoading:p}=(0,c.k)(e,t,(0,r.Uv)(s)&&(0,r.p8)(n)),{redeemByUSB:y,isRedeemByUSBLoading:j}=u(e,t,i!==o.q&&"USB"===s&&(0,r.p8)(n)),{usb2XToken:N,isUsb2XTokenLoading:S}=x(e,t,"USB"===s&&(0,r.Uv)(n)),w=(0,m.useMemo)(()=>(0,r.p8)(s)?"USB"===n?h:v:"USB"===s?(0,r.p8)(n)?y:N:b,[s,n,h,v,y,N,b]);return{swap:w,isSwapLoading:f||g||p||j||S}}},57756:function(e,t,s){"use strict";s.r(t),s.d(t,{FetcherContext:function(){return r},FetcherProvider:function(){return c}});var n=s(9268),i=s(86006),a=s(19707),l=s(69624),o=s(85418),d=s(16625);let r=(0,i.createContext)({balances:[],totalSupplies:[]}),c=e=>{let{children:t}=e,{address:s}=(0,a.mA)(),{data:c}=(0,a.KQ)({address:s,watch:!0,chainId:(0,o.B)()}),{data:u}=(0,a.Dm)({contracts:[...d.e.map(e=>({address:e.address[(0,o.B)()],abi:l.em,functionName:"balanceOf",args:[s],chainId:(0,o.B)()})),...d.e.map(e=>({address:e.address[(0,o.B)()],abi:l.em,functionName:"totalSupply",chainId:(0,o.B)()}))],watch:!0,allowFailure:!0});console.log(u);let x=d.e.length,m=(0,i.useMemo)(()=>null==u?void 0:u.filter((e,t)=>t<x).map((e,t)=>{var s;return{symbol:null===(s=d.e[t])||void 0===s?void 0:s.symbol,balance:null==e?void 0:e.result}}),[u]),h=(0,i.useMemo)(()=>null==u?void 0:u.filter((e,t)=>t>=x&&t<2*x).map((e,t)=>{var s;return{symbol:null===(s=d.e[t])||void 0===s?void 0:s.symbol,totalSupply:null==e?void 0:e.result}}),[u]);return(0,n.jsx)(r.Provider,{value:{balances:m?[...m,{symbol:"ETH",balance:null==c?void 0:c.value}]:[],totalSupplies:null!=h?h:[]},children:t})}},82861:function(e,t,s){"use strict";s.d(t,{MN:function(){return d},Rp:function(){return a},ZM:function(){return o},dq:function(){return l}});var n=s(77340),i=s(11639);let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=arguments.length>2?arguments[2]:void 0;if(!e)return"0.000";let i=10**t;return(Math.floor(Number((0,n.b)(e,s))*i)/i).toLocaleString("en-US",{maximumFractionDigits:t})},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return"0.000";let s=10**t;return(Math.floor(Number((0,i.d)(e))*s)/s).toLocaleString("en-US",{maximumFractionDigits:t})},o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return"0.000";let s=10**t;return String(Math.floor(Number((0,i.d)(e))*s)/s)},d=e=>e?(Math.floor(1e3*Number((0,i.d)(e)))/1e3).toFixed(3):"0.000"},87402:function(e,t,s){"use strict";function n(e){if("eth"===e.toLowerCase())return"ETH";if("ethx"===e.toLowerCase())return"ETHx";if("wbtc"===e.toLowerCase())return"WBTC";if("wbtcx"===e.toLowerCase())return"WBTCx";if("steth"===e.toLowerCase())return"stETH";if("stethx"===e.toLowerCase())return"stETHx";if("usb"===e.toLowerCase())return"USB";else return"ETH"}s.d(t,{H:function(){return n}})},32795:function(e,t,s){"use strict";s.d(t,{PS:function(){return l},Uv:function(){return a},p8:function(){return i},q8:function(){return o}});var n=s(43534);let i=e=>n.C.findIndex(t=>t.assetTokenSymbol===e)>-1,a=e=>n.C.findIndex(t=>t.xTokenSymbol===e)>-1,l=(e,t)=>{for(let s=0;s<n.C.length;s++){let i=[n.C[s].assetTokenSymbol,n.C[s].xTokenSymbol];if(i.findIndex(t=>t===e)>-1||i.findIndex(e=>e===t)>-1)return s}},o=(e,t)=>"USB"===e?t.filter(t=>t!==e):i(e)?["USB",e+"x"]:a(e)?[e.replace("x","")]:t}},function(e){e.O(0,[166,524,606,261,394,935,937,333,204,520,273,941,253,961,560],function(){return e(e.s=89517)}),_N_E=e.O()}]);