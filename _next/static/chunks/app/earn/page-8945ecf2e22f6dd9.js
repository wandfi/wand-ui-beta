(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{15352:function(e,t,s){Promise.resolve().then(s.t.bind(s,52683,23)),Promise.resolve().then(s.t.bind(s,62277,23)),Promise.resolve().then(s.t.bind(s,90190,23)),Promise.resolve().then(s.t.bind(s,8202,23)),Promise.resolve().then(s.t.bind(s,67580,23)),Promise.resolve().then(s.t.bind(s,59795,23)),Promise.resolve().then(s.bind(s,87500)),Promise.resolve().then(s.bind(s,22785)),Promise.resolve().then(s.t.bind(s,47882,23)),Promise.resolve().then(s.t.bind(s,91959,23)),Promise.resolve().then(s.t.bind(s,81165,23)),Promise.resolve().then(s.t.bind(s,73813,23)),Promise.resolve().then(s.t.bind(s,11100,23)),Promise.resolve().then(s.t.bind(s,81401,23)),Promise.resolve().then(s.t.bind(s,29110,23)),Promise.resolve().then(s.t.bind(s,68727,23)),Promise.resolve().then(s.t.bind(s,43618,23)),Promise.resolve().then(s.t.bind(s,80765,23)),Promise.resolve().then(s.t.bind(s,78021,23)),Promise.resolve().then(s.bind(s,47524)),Promise.resolve().then(s.t.bind(s,88411,23)),Promise.resolve().then(s.t.bind(s,5086,23)),Promise.resolve().then(s.bind(s,77106)),Promise.resolve().then(s.t.bind(s,68216,23)),Promise.resolve().then(s.t.bind(s,2490,23)),Promise.resolve().then(s.t.bind(s,28264,23)),Promise.resolve().then(s.t.bind(s,14687,23)),Promise.resolve().then(s.t.bind(s,95189,23)),Promise.resolve().then(s.t.bind(s,88739,23)),Promise.resolve().then(s.t.bind(s,48696,23)),Promise.resolve().then(s.t.bind(s,32095,23)),Promise.resolve().then(s.bind(s,19955)),Promise.resolve().then(s.bind(s,30967))},79343:function(e,t,s){"use strict";s.d(t,{v:function(){return o}});var n=s(9268),a=s(16237),l=s(87471),i=s(32100),r=s(2002);function o(e){let{className:t,tx:s,approves:o,spender:c,config:d,toast:u=!0}=e,{approve:m,shouldApprove:x,loading:h}=(0,a.i)(o,c);return x?(0,n.jsxs)("button",{className:(0,r.m)("btn-primary flex items-center justify-center gap-4",t),onClick:m,disabled:!m||h,children:[h&&(0,n.jsx)(i.$,{}),"Approve"]}):(0,n.jsx)(l.c,{tx:s,config:d,toast:u})}},87471:function(e,t,s){"use strict";s.d(t,{c:function(){return r}});var n=s(9268),a=s(31648),l=s(32100),i=s(2002);function r(e){let{className:t,config:s,toast:r=!0,tx:o}=e,{write:c,isLoading:d}=(0,a.R)(s,r);return(0,n.jsxs)("button",{className:(0,i.m)("btn-primary bg-indigo-500 flex items-center justify-center gap-4",t),onClick:()=>c(),disabled:!c||d,children:[d&&(0,n.jsx)(l.$,{}),o]})}},78592:function(e,t,s){"use strict";s.d(t,{W:function(){return o}});var n=s(9268),a=s(63831),l=s(76394),i=s.n(l),r=s(86006);function o(e){let{asset:t="ETH",balance:s,exchange:l,readonly:o,selected:c,onClick:d,amount:u,setAmount:m,price:x,disable:h}=e,v=(0,r.useRef)(null);return(0,n.jsxs)("div",{className:"relative",onClick:()=>{d&&!h&&d()},children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"absolute flex items-center gap-2 top-1/2 left-4 -translate-y-1/2",children:[(0,n.jsx)(i(),{width:24,height:24,src:"/".concat(t,".svg"),alt:""}),(0,n.jsxs)("div",{className:"text-base font-medium",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{children:t}),x&&(0,n.jsx)("div",{className:"text-neutral-500 text-xs",children:x})]}),l&&(0,n.jsxs)("div",{className:"text-slate-500 text-xs",children:["~$",l]})]})]}),(0,n.jsx)("input",{value:u,onChange:e=>m(e.target.value),ref:v,type:"number",disabled:h,className:(0,a.Z)("w-full h-16 text-right pr-4 font-bold text-2xl border text-slate-700 rounded-md focus:ring-2 focus:outline-blue-500",o?"bg-slate-50":"bg-white",c?"border-indigo-500":"border-slate-200"),placeholder:"0.00",step:.01,readOnly:o})]}),s&&(0,n.jsxs)("div",{className:"text-slate-400 pl-3 mt-1 text-sm",children:["Balance: ",s,(0,n.jsx)("button",{className:"text-indigo-500 ml-2",onClick:()=>{var e;return m(null===(e=String(s))||void 0===e?void 0:e.replace(",",""))},children:"Max"})]})]})}},30967:function(e,t,s){"use strict";s.r(t),s.d(t,{DualTokenCard:function(){return w}});var n=s(9268),a=s(22828),l=s(85418),i=s(56883),r=s(31648),o=s(57756),c=s(82861),d=s(29040),u=s(12120),m=s(99468),x=s(76394),h=s.n(x),v=s(35846),b=s.n(v),f=s(86006),g=s(75503),j=s(79343),p=s(87471),y=s(78592),N=s(32100);let k=[{date:"Aug-30-2023 08:33:59 AM +UTC",action:"Bought 3.22 ETH at $2000",src:""},{date:"Aug-30-2023 08:33:59 AM +UTC",action:"Bought 3.22 ETH at $2000",src:""},{date:"Aug-30-2023 08:33:59 AM +UTC",action:"Bought 3.22 ETH at $2000",src:""}];function P(e){let{symbol:t,value:s,decimals:a}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,c.dq)(s,a),(0,n.jsx)(h(),{className:"inline-block",alt:"usb",width:16,height:16,src:"/".concat(t,".svg")})]})}function w(e){let{type:t,vc:s}=e,x="buy"==t,v=x?i.O[(0,l.B)()]:s.assetTokenAddress,w=x?"USB":s.assetTokenSymbol,_=x?s.assetTokenSymbol:"USB",S=x?"Buy ".concat(s.assetTokenSymbol," Low"):"Sell ".concat(s.assetTokenSymbol," High"),T=x?s.ptyPoolBelowAddress:s.ptyPoolAboveAddress,{prices:E,balances:C,earns:A}=(0,f.useContext)(o.FetcherContext),B=A[T],M=(0,f.useMemo)(()=>{var e;return null==C?void 0:null===(e=C.find(e=>e.symbol===w))||void 0===e?void 0:e.balance},[C,w]),[R,L]=(0,f.useState)(""),[U,$]=(0,f.useState)(""),z=x?s.xTokenSymbol:s.assetTokenSymbol,H=x?s.assetTokenSymbol:s.xTokenSymbol,V=(0,f.useMemo)(()=>{let e=x?[{key:"staked",label:"".concat(w," Staked"),value:(0,n.jsx)(P,{symbol:w,value:null==B?void 0:B.stake})},{key:"successfully_bought",label:"Successfully Bought",value:(0,n.jsx)(P,{symbol:_,value:null==B?void 0:B.match})},{key:"stake_earned",label:"".concat(z," earned"),value:(0,n.jsx)(P,{symbol:z,value:null==B?void 0:B.earn,decimals:6})},{key:"transacation_reward_pool",label:"Transaction Reward Pool",value:(0,n.jsx)(P,{symbol:H,value:0n})},{key:"stake_yield_apr",label:"".concat(z," yield APR"),value:"2.32%"},{key:"discount_rate",label:"Discount Rate",value:"3.23% (Est.)"},{key:"usb_rebasable_apr",label:"USB Rebasable APR",value:"2.32%"}]:[{key:"staked",label:"".concat(w," Staked"),value:(0,n.jsx)(P,{symbol:w,value:null==B?void 0:B.stake})},{key:"successfully_bought",label:"Successfully Bought",value:(0,n.jsx)(P,{symbol:_,value:null==B?void 0:B.match})},{key:"stake_earned",label:"".concat(z," earned"),value:(0,n.jsx)(P,{symbol:z,value:null==B?void 0:B.earn,decimals:6})},{key:"transacation_reward_pool",label:"Transaction Reward Pool",value:(0,n.jsx)(P,{symbol:H,value:0n})},{key:"stake_yield_apr",label:"".concat(z," yield APR"),value:"2.32%"},{key:"discount_rate",label:"Discount Rate",value:"3.23% (Est.)"}];return e},[B]),{write:D,isLoading:O}=(0,r.R)({abi:a.Z,address:T,functionName:"getMatchingTokensAndYields"});return(0,n.jsxs)("div",{className:"card flex flex-col",children:[(0,n.jsxs)("div",{className:"relative w-fit",children:[(0,n.jsx)(h(),{width:40,height:40,src:"/".concat(w,".svg"),alt:""}),(0,n.jsx)(h(),{className:"absolute -right-2 -bottom-2",width:24,height:24,src:"/".concat(_,".svg"),alt:""})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h6",{className:"text-base leading-6 font-bold mt-6",children:S||"title"}),(0,n.jsx)("div",{className:"text-slate-500 text-sm",children:"TVL: $123,232"})]}),(0,n.jsxs)("div",{className:"flex flex-col text-sm mt-6 gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex items-center gap-1",children:"Current ".concat(s.assetTokenSymbol," price")}),(0,n.jsxs)("div",{className:"font-semibold",children:["$",(0,c.dq)(E[s.assetTokenSymbol])]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("div",{className:"flex items-center gap-1",children:"Target Price"}),(0,n.jsx)("div",{className:"font-semibold",children:"$123,232"})]})]}),(0,n.jsx)(m.iz,{}),(0,n.jsx)(m.rj,{numItemsSm:2,className:"gap-y-3 gap-x-7",children:null==V?void 0:V.map(e=>(0,n.jsxs)("div",{className:"flex justify-between flex-col",children:[(0,n.jsx)("div",{className:"text-xs text-neutral-500",children:e.label}),(0,n.jsx)("div",{className:"text-neutral-900 text-sm mt-1",children:e.value})]},e.key))}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,n.jsx)("div",{className:"text-sm text-slate-500 flex flex-col gap-3",children:(0,n.jsxs)(d.fC,{children:[(0,n.jsx)(d.xz,{asChild:!0,children:(0,n.jsx)("button",{className:"w-full text-indigo-500 h-7",children:"Check Transaction History"})}),(0,n.jsxs)(d.h_,{children:[(0,n.jsx)(d.aV,{className:"fixed inset-0 bg-black opacity-30 z-40"}),(0,n.jsxs)(d.VY,{className:"fixed z-50 top-[50%] left-[50%] max-h-[85vh] w-[90vw] max-w-[450px] translate-x-[-50%] translate-y-[-50%] rounded-[6px] bg-white p-[25px] shadow-[hsl(206_22%_7%_/_35%)_0px_10px_38px_-10px,_hsl(206_22%_7%_/_20%)_0px_10px_20px_-15px] focus:outline-none",children:[(0,n.jsx)(d.Dx,{children:"Transaction history"}),(0,n.jsx)("div",{className:"mt-2 bg-neutral-50 rounded-xl p-4",children:k.map((e,t)=>{let{date:s,action:a,src:l}=e;return(0,n.jsxs)("div",{className:"mt-6 first:mt-0",children:[(0,n.jsx)("div",{className:"text-xs text-neutral-500",children:s}),(0,n.jsx)("div",{className:"text-sm text-neutral-900 mt-1",children:a}),(0,n.jsx)(b(),{href:"",className:"text-xs underline text-indigo-500",children:"Check the tx"})]},t)})})]})]})]})}),(0,n.jsxs)("button",{className:"btn-secondary h-7 flex items-center w-fit self-end justify-center gap-4 ",disabled:!D||O,onClick:()=>D(),children:[O&&(0,n.jsx)(N.$,{}),"Claim all"]})]}),(0,n.jsxs)(u.fC,{defaultValue:"stake",className:"mt-6",children:[(0,n.jsx)(u.aV,{className:"flex gap-6 border-b border-slate-200",children:["stake","unstake"].map(e=>(0,n.jsx)(u.xz,{value:e,className:"capitalize py-1 text-sm leading-6 text-slate-400 data-[state=active]:font-medium data-[state=active]:text-slate-900 data-[state=active]:border-b data-[state=active]:border-slate-900",children:e},e))}),(0,n.jsxs)(u.VY,{value:"stake",className:"pt-4",children:[(0,n.jsx)(y.W,{amount:R,setAmount:L,asset:w,balance:(0,c.dq)(M)}),(0,n.jsx)(j.v,{tx:"Stake",config:{abi:a.Z,address:T,functionName:"stake",args:[(0,g.f)(R)],value:"ETH"==w?(0,g.f)(R):0n},approves:{[v]:(0,g.f)(R)},spender:T})]}),(0,n.jsxs)(u.VY,{value:"unstake",className:"pt-4",children:[(0,n.jsx)(y.W,{amount:U,setAmount:$,asset:w}),(0,n.jsx)(p.c,{className:"mt-12",tx:"UnStake",config:{abi:a.Z,address:T,functionName:"withdraw",args:[(0,g.f)(U)]}})]})]})]})}},32100:function(e,t,s){"use strict";s.d(t,{$:function(){return a}});var n=s(9268);let a=e=>{let{className:t}=e;return(0,n.jsxs)("svg",{fill:"none",className:t?"text-white":"animate-spin h-5 w-5 2-ml-1 2mr-3",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},16237:function(e,t,s){"use strict";s.d(t,{i:function(){return d},y:function(){return c}});var n=s(43534),a=s(68010),l=s(86006),i=s(179),r=s(19707),o=s(69624);let c=(e,t)=>{let{config:s}=(0,r.PJ)({address:e,abi:o.em,functionName:"approve",args:[t,100000000n*BigInt(1e18)],enabled:!!t&&!!e&&"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"!==e}),{write:n,data:a,isLoading:l}=(0,r.GG)(s),{isLoading:i}=(0,r.BX)({hash:null==a?void 0:a.hash});return{approve:n,isApproveLoading:l||i}},d=(e,t)=>{let{address:s}=(0,r.mA)(),c=(0,r.t_)(),{data:d}=(0,r.py)(),u=(0,l.useMemo)(()=>Object.keys(e).filter(e=>e!==n.K8),[e]),[m,x]=(0,l.useState)({}),h=(e,t)=>{x(s=>({...s,[e]:t}))},{data:v}=(0,r.Ov)();(0,l.useEffect)(()=>{s&&u.forEach(e=>{c.readContract({abi:o.em,address:e,functionName:"allowance",args:[s,t]}).then(t=>h(e,t)).catch(console.error)})},[u,s,v]);let[b,f]=(0,l.useState)(!1),g=(0,l.useMemo)(()=>u.filter(t=>(e[t]||0n)>0n&&(e[t]||0n)>(m[t]||0n)),[e,u]),j=async()=>{if(0!=g.length)try{f(!0);for(let e=0;e<g.length;e++){let s=g[e];await (null==d?void 0:d.writeContract({abi:o.em,address:s,functionName:"approve",args:[t,100000000n*BigInt(1e18)]}))}f(!1),i.toast.success("Approve success")}catch(e){throw i.toast.error((0,a.a)(e)),f(!1),e}};return{approve:j,loading:b,shouldApprove:g.length>0}}},31648:function(e,t,s){"use strict";s.d(t,{R:function(){return r}});var n=s(68010),a=s(86006),l=s(179),i=s(19707);function r(e){var t;let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=(0,i.PJ)(e),o=(0,i.GG)(r.config),c=(0,i.BX)({hash:null===(t=o.data)||void 0===t?void 0:t.hash});return o.isLoading=o.isLoading||c.isLoading,o.error=o.error,o.isSuccess=o.isSuccess&&c.isSuccess,(0,a.useEffect)(()=>{s&&(o.error?l.toast.error((0,n.a)(o.error)):o.isSuccess&&l.toast.success("Transaction success"))},[o.error,o.isSuccess]),o}},68010:function(e,t,s){"use strict";function n(e){let t="Unkown";return("string"==typeof e?t=e:"string"==typeof(null==e?void 0:e.msg)?t=null==e?void 0:e.msg:"string"==typeof(null==e?void 0:e.message)&&(t=null==e?void 0:e.message),t.includes("User denied")||t.includes("user rejected transaction"))?"You declined the action in your wallet.":t.includes("transaction failed")?"Transaction failed":t}s.d(t,{a:function(){return n}})},82861:function(e,t,s){"use strict";s.d(t,{MN:function(){return o},Rp:function(){return l},ZM:function(){return r},dq:function(){return i}});var n=s(77340),a=s(11639);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,s=arguments.length>2?arguments[2]:void 0;if(!e)return"0.000";let a=10**t;return(Math.floor(Number((0,n.b)(e,s))*a)/a).toLocaleString("en-US",{maximumFractionDigits:t})},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return"0.000";let s=10**t;return(Math.floor(Number((0,a.d)(e))*s)/s).toLocaleString("en-US",{maximumFractionDigits:t})},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(!e)return"0.000";let s=10**t;return String(Math.floor(Number((0,a.d)(e))*s)/s)},o=e=>e?(Math.floor(1e3*Number((0,a.d)(e)))/1e3).toFixed(3):"0.000"}},function(e){e.O(0,[7544,6394,1391,914,9468,106,7624,5119,5846,3197,6811,4135,7756,9253,2961,1744],function(){return e(e.s=15352)}),_N_E=e.O()}]);